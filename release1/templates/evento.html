<!-- templates/evento.html -->
{% extends 'base.html' %}

{% block content %}
    
    <h2>Eventos da Comunidade</h2>
    <p>Próximos eventos ativos organizados pela comunidade.</p>
    
    <div class="list-wrapper" style="margin-top: 20px;">
        
        <!-- 'eventos' aqui só tem os "Ativos" (definido no app.py) -->
        {% if not eventos %}
            <p>Nenhum evento agendado no momento.</p>
        {% endif %}

        {% for e in eventos %}
            <div class="card">
                <h3>{{ e.nome }}</h3>
                <p>Jogo: {{ e.jogo }}</p>
                <!-- O '.strftime' formata a data para DD/MM/AAAA -->
                <p>Data: {{ e.data.strftime('%d/%m/%Y') }}</p>
                <p>Organizado por: <strong>{{ e.organizador.nome }}</strong></p>

                <!-- MUDANÇA: O botão "Ver Detalhes" agora funciona! -->
                <a href="{{ url_for('evento_detalhe', id=e.id) }}" class="btn-card-participar">Ver Detalhes</a> 

                <!-- 
                    ==================================
                    === BOTÃO EXCLUIR REMOVIDO DAQUI ===
                    ==================================
                -->
                <!-- O 'if' de excluir foi removido, como você pediu -->
            </div>
        {% endfor %}
    </div>

{% endblock %}